{"ast":null,"code":"import API from \"../../../api\";\nimport C from \"../../../constants\";\nimport ENDPOINTS from \"../../../../../configs/apiendpoints\";\nimport md5 from 'md5';\nexport default class LoginAPI extends API {\n  constructor(serviceRequestNumber, timeout = 2000) {\n    super(\"POST\", timeout, false);\n    this.serviceRequestNumber = serviceRequestNumber;\n    this.type = C.GET_ERROR_REPORT;\n    this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.errorReport}`;\n    this.userDetails = JSON.parse(localStorage.getItem('userInfo'));\n  }\n\n  toString() {\n    return `${super.toString()} email: ${this.email} token: ${this.token} expires: ${this.expires} userid: ${this.userid}, type: ${this.type}`;\n  }\n\n  apiEndPoint() {\n    return this.endpoint;\n  }\n\n  processResponse(res) {\n    super.processResponse(res);\n\n    if (res) {\n      this.reportValue = res;\n    }\n  }\n\n  getBody() {\n    return {\n      \"serviceRequestNumber\": this.serviceRequestNumber\n    };\n  }\n\n  getHeaders() {\n    let urlSha = md5(JSON.stringify(this.getBody()));\n    let hash = md5(this.userDetails.privateKey + \"|\" + urlSha);\n    this.headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"key\": this.userDetails.publicKey,\n        \"sig\": hash\n      }\n    };\n    return this.headers;\n  }\n\n  getPayload() {\n    return this.reportValue;\n  }\n\n}","map":{"version":3,"sources":["/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/src/redux/actions/api/DataSet/DatasetView/ErrorDownload.js"],"names":["API","C","ENDPOINTS","md5","LoginAPI","constructor","serviceRequestNumber","timeout","type","GET_ERROR_REPORT","endpoint","apiEndPointAuto","errorReport","userDetails","JSON","parse","localStorage","getItem","toString","email","token","expires","userid","apiEndPoint","processResponse","res","reportValue","getBody","getHeaders","urlSha","stringify","hash","privateKey","headers","publicKey","getPayload"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,OAAOC,CAAP,MAAc,oBAAd;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,eAAe,MAAMC,QAAN,SAAuBJ,GAAvB,CAA2B;AACxCK,EAAAA,WAAW,CAACC,oBAAD,EAAuBC,OAAO,GAAG,IAAjC,EAAuC;AAChD,UAAM,MAAN,EAAcA,OAAd,EAAuB,KAAvB;AACD,SAAKD,oBAAL,GAA4BA,oBAA5B;AACA,SAAKE,IAAL,GAAYP,CAAC,CAACQ,gBAAd;AACC,SAAKC,QAAL,GAAiB,GAAE,MAAMC,eAAN,EAAwB,GAAET,SAAS,CAACU,WAAY,EAAnE;AACA,SAAKC,WAAL,GAAmBC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAnB;AACD;;AAEDC,EAAAA,QAAQ,GAAG;AACT,WAAQ,GAAE,MAAMA,QAAN,EAAiB,WAAU,KAAKC,KAAM,WAAU,KAAKC,KAAM,aAAY,KAAKC,OAAQ,YAAW,KAAKC,MAAO,WAAU,KAAKd,IAAK,EAAzI;AACH;;AAECe,EAAAA,WAAW,GAAG;AACZ,WAAO,KAAKb,QAAZ;AACD;;AAEDc,EAAAA,eAAe,CAACC,GAAD,EAAM;AACnB,UAAMD,eAAN,CAAsBC,GAAtB;;AACA,QAAIA,GAAJ,EAAS;AAEL,WAAKC,WAAL,GAAmBD,GAAnB;AACH;AACJ;;AAKCE,EAAAA,OAAO,GAAG;AACR,WAAO;AAAC,8BAAuB,KAAKrB;AAA7B,KAAP;AACD;;AAIDsB,EAAAA,UAAU,GAAG;AACX,QAAIC,MAAM,GAAG1B,GAAG,CAACW,IAAI,CAACgB,SAAL,CAAe,KAAKH,OAAL,EAAf,CAAD,CAAhB;AACA,QAAII,IAAI,GAAG5B,GAAG,CAAC,KAAKU,WAAL,CAAiBmB,UAAjB,GAA4B,GAA5B,GAAgCH,MAAjC,CAAd;AACA,SAAKI,OAAL,GAAe;AACbA,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,eAAO,KAAKpB,WAAL,CAAiBqB,SAFjB;AAGP,eAASH;AAHF;AADI,KAAf;AAOA,WAAO,KAAKE,OAAZ;AACD;;AAEDE,EAAAA,UAAU,GAAG;AACX,WAAO,KAAKT,WAAZ;AACD;;AAjDuC","sourcesContent":["import API from \"../../../api\";\nimport C from \"../../../constants\";\nimport ENDPOINTS from \"../../../../../configs/apiendpoints\";\nimport md5 from 'md5';\n\nexport default class LoginAPI extends API {\n  constructor(serviceRequestNumber, timeout = 2000) {\n    super(\"POST\", timeout, false);\n   this.serviceRequestNumber = serviceRequestNumber;\n   this.type = C.GET_ERROR_REPORT;\n    this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.errorReport}`;\n    this.userDetails = JSON.parse(localStorage.getItem('userInfo'))\n  }\n\n  toString() {\n    return `${super.toString()} email: ${this.email} token: ${this.token} expires: ${this.expires} userid: ${this.userid}, type: ${this.type}`;\n}\n\n  apiEndPoint() {\n    return this.endpoint;\n  }\n\n  processResponse(res) {\n    super.processResponse(res);\n    if (res) {\n\n        this.reportValue = res;\n    }\n}\n\n\n\n\n  getBody() {\n    return {\"serviceRequestNumber\":this.serviceRequestNumber}\n  }\n\n\n\n  getHeaders() {\n    let urlSha = md5(JSON.stringify(this.getBody()))\n    let hash = md5(this.userDetails.privateKey+\"|\"+urlSha)\n    this.headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"key\" :this.userDetails.publicKey,\n        \"sig\"  : hash\n      }\n    };\n    return this.headers;\n  }\n\n  getPayload() {\n    return this.reportValue;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}