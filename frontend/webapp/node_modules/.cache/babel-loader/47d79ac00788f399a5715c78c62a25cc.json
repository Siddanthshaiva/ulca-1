{"ast":null,"code":"var _jsxFileName = \"/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/src/ui/container/Dashboard/ChartRender.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { withStyles, Typography, MuiThemeProvider, Paper, Button } from \"@material-ui/core\";\nimport ChartStyles from \"../../styles/Dashboard\";\nimport { ResponsiveContainer, BarChart, Bar, Cell, XAxis, Label, LabelList, YAxis, Tooltip } from 'recharts';\nimport APITransport from \"../../../redux/actions/apitransport/apitransport\";\nimport FetchLanguageDataSets from \"../../../redux/actions/api/Dashboard/languageDatasets\";\nimport { ArrowBack } from '@material-ui/icons';\nimport Header from '../../components/common/Header';\nimport Dataset from \"../../../configs/DatasetItems\";\nimport authenticate from '../../../configs/authenticate';\nimport Theme from \"../../theme/theme-default\";\nimport TitleBar from \"./TitleBar\";\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport AppInfo from \"../../components/common/AppInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar colors = [\"188efc\", \"7a47a4\", \"b93e94\", \"1fc6a4\", \"f46154\", \"d088fd\", \"f3447d\", \"188efc\", \"f48734\", \"189ac9\", \"0e67bd\"];\n\nconst ChartRender = props => {\n  _s();\n\n  const [selectedOption, setSelectedOption] = useState(Dataset[0]);\n  const [title, setTitle] = useState(\"Number of parallel dataset per language with English\");\n  const [filterValue, setFilterValue] = useState(\"domains\");\n  const [popUp, setPopUp] = useState(authenticate() ? false : true);\n  const [selectedLanguage, setSelectedLanguage] = useState(\"\");\n  const [selectedLanguageName, setSelectedLanguageName] = useState(\"\");\n  const [page, setPage] = useState(0);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const DashboardReport = useSelector(state => state.dashboardReport);\n  const {\n    classes\n  } = props;\n  const options = Dataset;\n  useEffect(() => {\n    fetchChartData(selectedOption.value, \"languagePairs\", []);\n    history.push(`${process.env.PUBLIC_URL}/dashboard`);\n  }, []);\n\n  const fetchChartData = (dataType, value, criterions) => {\n    const userObj = new FetchLanguageDataSets(dataType, value, criterions);\n    dispatch(APITransport(userObj));\n  }; // const customStyles = {\n  // \toption: (provided, state) => ({\n  // \t\t...provided,\n  // \t\tborderColor: \"green\",\n  // \t\tcolor: 'black',\n  // \t\tpadding: 20,\n  // \t\tbackground: state.isSelected && \"#c7c6c68a !important\",\n  // \t\tcursor: \"pointer\",\n  // \t\tfontFamily: \"Lato, sans-serif \",\n  // \t}),\n  // \tcontrol: (base, state) => ({\n  // \t\t...base,\n  // \t\t// This line disable the blue border\n  // \t\tborderColor: \"#392C71\",\n  // \t\tborder: \"1px solid rgba(57, 44, 113, 0.5)\",\n  // \t\tboxShadow: state.isFocused ? 0 : 0,\n  // \t\tfontFamily: \"Lato, sans-serif \",\n  // \t\tcursor: \"pointer\"\n  // \t})\n  // }\n\n\n  const fetchParams = event => {\n    var sourceLanguage = \"\";\n    let targetLanguage = \"\";\n\n    if (selectedOption.value === \"parallel-corpus\") {\n      sourceLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": \"en\"\n      };\n      targetLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id\n      };\n    } else {\n      sourceLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id\n      };\n      targetLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": \"\"\n      };\n    }\n\n    setSelectedLanguage(selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id);\n    setSelectedLanguageName(selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label);\n    return [{\n      \"type\": \"PARAMS\",\n      \"sourceLanguage\": sourceLanguage,\n      \"targetLanguage\": targetLanguage\n    }];\n  };\n\n  const fetchNextParams = eventValue => {\n    var sourceLanguage = \"\";\n    let targetLanguage = \"\";\n    let event = {\n      \"type\": \"PARAMS\",\n      \"value\": eventValue && eventValue.hasOwnProperty(\"_id\") && eventValue._id\n    };\n\n    if (selectedOption.value === \"parallel-corpus\") {\n      sourceLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": \"en\"\n      };\n      targetLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": selectedLanguage\n      };\n    } else {\n      sourceLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": selectedLanguage\n      };\n      targetLanguage = {\n        \"type\": \"PARAMS\",\n        \"value\": \"\"\n      };\n    }\n\n    setSelectedLanguage(selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id);\n    setSelectedLanguageName(selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label);\n    return [{\n      \"type\": \"PARAMS\",\n      \"sourceLanguage\": sourceLanguage,\n      \"targetLanguage\": targetLanguage\n    }, event];\n  };\n\n  const handleOnClick = (value, event, filter) => {\n    switch (value) {\n      case 1:\n        // fetchChartData(selectedOption.value, filter ? filter : filterValue, [{ \"type\": \"PARAMS\", \"sourceLanguage\": { \"type\": \"PARAMS\", \"value\": \"en\" }, \"targetLanguage\": { \"type\": \"PARAMS\", \"value\": selectedLanguage ? selectedLanguage : (event && event.hasOwnProperty(\"_id\")) ? event._id : \"\" } }])\n        fetchChartData(selectedOption.value, filter ? filter : filterValue, fetchParams(event));\n        handleSelectChange(selectedOption, event, filter, value);\n        setPage(value);\n        break;\n\n      case 2:\n        fetchChartData(selectedOption.value, filterValue === \"collectionMethod_collectionDescriptions\" ? \"domains\" : \"collectionMethod_collectionDescriptions\", fetchNextParams(event));\n        setPage(value);\n        setFilterValue('domains');\n        handleSelectChange(selectedOption, event, filter, value);\n        break;\n\n      case 0:\n        fetchChartData(selectedOption.value, \"languagePairs\", []);\n        setPage(value);\n        setFilterValue('domains');\n        handleSelectChange(selectedOption, \"\", \"\", value);\n        setSelectedLanguage(\"\");\n        setSelectedLanguageName(\"\");\n        break;\n\n      default:\n    }\n  };\n\n  const handleLanguageChange = value => {\n    setFilterValue(value);\n    setTitle(`English-${selectedLanguageName}  ${selectedOption.value}- Grouped by ${value === \"domains\" ? \"Domain\" : value === \"source\" ? \"Source\" : value === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`);\n    handleOnClick(1, \"\", value);\n  };\n\n  const handleCardNavigation = () => {\n    handleOnClick(page - 1);\n  };\n\n  const handleClosePopUp = () => {\n    setPopUp(false);\n  };\n\n  const fetchFilterButtons = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.filterButton,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        color: filterValue === \"domains\" ? \"primary\" : \"default\",\n        size: \"small\",\n        variant: \"outlined\",\n        className: classes.backButton,\n        onClick: () => handleLanguageChange(\"domains\"),\n        children: \"Domain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: filterValue === \"collectionMethod_collectionDescriptions\" ? \"primary\" : \"default\",\n        size: \"small\",\n        variant: \"outlined\",\n        onClick: () => handleLanguageChange(\"collectionMethod_collectionDescriptions\"),\n        children: \"Collection Method\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 4\n    }, this);\n  };\n\n  const handleSelectChange = (dataSet, event, filter, page) => {\n    setSelectedOption(dataSet);\n\n    switch (dataSet.value) {\n      case 'parallel-corpus':\n        if (page === 0) {\n          setTitle(\"Number of parallel sentences per language with English\");\n          selectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", []);\n        } else if (page === 1) {\n          setTitle(`English-${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label}  ${selectedOption.label} - Grouped by ${filter === \"domains\" ? \"Domain\" : filter === \"source\" ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`);\n        } else if (page === 2) {\n          setTitle(`English-${selectedLanguageName} ${selectedOption.label} `);\n        }\n\n        break;\n\n      case 'monolingual-corpus':\n        if (page === 0) {\n          selectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", []);\n          setTitle('Number of sentences per language');\n        } else if (page === 1) {\n          setTitle(`Number of sentences in ${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label} - Grouped by ${filter === \"domains\" ? \"Domain\" : filter === \"source\" ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`);\n        } else if (page === 2) {\n          setTitle(`Number of sentences in ${selectedLanguageName} `);\n        }\n\n        break;\n\n      case 'asr-corpus':\n        if (page === 0) {\n          selectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", []);\n          setTitle(\"Number of audio hours per language\");\n        } else if (page === 1) {\n          setTitle(`Number of audio hours in ${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label} - Grouped by ${filter === \"domains\" ? \"Domain\" : filter === \"source\" ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`);\n        } else if (page === 2) {\n          setTitle(`Number of audio hours in ${selectedLanguageName} `);\n        }\n\n        break;\n\n      case 'ocr-corpus':\n        if (page === 0) {\n          selectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", []);\n          setTitle(\"Number of images per language\");\n        } else if (page === 1) {\n          setTitle(`Number of images with ${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label} text - Grouped by ${filter === \"domains\" ? \"Domain\" : filter === \"source\" ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`);\n        } else if (page === 2) {\n          setTitle(`Number of images with ${selectedLanguageName} text`);\n        }\n\n        break;\n\n      default:\n        setTitle(\"\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n    theme: Theme,\n    children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        style: {\n          marginBottom: \"10px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 50\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 56\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 62\n      }, this), \" \"]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.container,\n      children: [/*#__PURE__*/_jsxDEV(TitleBar, {\n        selectedOption: selectedOption,\n        handleSelectChange: handleSelectChange,\n        options: options,\n        isDisabled: page !== 0 ? true : false,\n        page: page,\n        count: DashboardReport.count,\n        children: page === 1 && fetchFilterButtons()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setPopUp(true),\n        color: \"primary\",\n        variant: \"contained\",\n        className: classes.infoBtn,\n        children: /*#__PURE__*/_jsxDEV(InfoOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 109\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 4\n      }, this), popUp && /*#__PURE__*/_jsxDEV(AppInfo, {\n        handleClose: handleClosePopUp,\n        open: popUp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.iconStyle,\n          children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              color: \"primary\",\n              className: classes.backButton,\n              style: page === 0 ? {\n                visibility: \"hidden\"\n              } : {},\n              startIcon: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 134\n              }, this),\n              onClick: () => handleCardNavigation(),\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 9\n            }, this)\n          }, void 0, false), /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.titleText,\n            value: \"\",\n            variant: \"h6\",\n            children: [\" \", title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.title,\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"95%\",\n            height: 550,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              width: 900,\n              height: 350,\n              data: DashboardReport.data,\n              fontSize: \"14px\",\n              fontFamily: \"Lato\",\n              maxBarSize: 100,\n              children: [/*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"label\",\n                textAnchor: \"end\",\n                tick: {\n                  angle: -30,\n                  marginTop: \"8px\"\n                },\n                height: 130,\n                interval: 0,\n                position: \"insideLeft\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                padding: {\n                  top: 10\n                },\n                tickInterval: 10,\n                allowDecimals: false,\n                type: \"number\",\n                dx: 0,\n                tickFormatter: value => new Intl.NumberFormat('en', {\n                  notation: \"compact\"\n                }).format(value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                contentStyle: {\n                  fontFamily: \"Lato\",\n                  fontSize: \"14px\"\n                },\n                formatter: value => new Intl.NumberFormat('en').format(value),\n                cursor: {\n                  fill: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                margin: {\n                  top: 40,\n                  left: 20,\n                  right: 20,\n                  bottom: 20\n                },\n                dataKey: \"value\",\n                cursor: \"pointer\",\n                radius: [8, 8, 0, 0],\n                maxBarSize: 65,\n                onClick: event => {\n                  handleOnClick(page + 1, event);\n                },\n                children: [/*#__PURE__*/_jsxDEV(LabelList, {\n                  formatter: value => new Intl.NumberFormat('en').format(value),\n                  cursor: {\n                    fill: 'none'\n                  },\n                  position: \"top\",\n                  dataKey: \"value\",\n                  fill: \"black\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 10\n                }, this), DashboardReport.hasOwnProperty(\"data\") && DashboardReport.data.length > 0 && DashboardReport.data.map((entry, index) => {\n                  const color = colors[index < 9 ? index : index % 10];\n                  return /*#__PURE__*/_jsxDEV(Cell, {\n                    fill: `#${color}`\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 19\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ChartRender, \"gfxcNDxDodvaff0974ynWnBJasQ=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = ChartRender;\nexport default withStyles(ChartStyles(Theme))(ChartRender);\n\nvar _c;\n\n$RefreshReg$(_c, \"ChartRender\");","map":{"version":3,"sources":["/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/src/ui/container/Dashboard/ChartRender.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","useHistory","withStyles","Typography","MuiThemeProvider","Paper","Button","ChartStyles","ResponsiveContainer","BarChart","Bar","Cell","XAxis","Label","LabelList","YAxis","Tooltip","APITransport","FetchLanguageDataSets","ArrowBack","Header","Dataset","authenticate","Theme","TitleBar","InfoOutlinedIcon","AppInfo","colors","ChartRender","props","selectedOption","setSelectedOption","title","setTitle","filterValue","setFilterValue","popUp","setPopUp","selectedLanguage","setSelectedLanguage","selectedLanguageName","setSelectedLanguageName","page","setPage","history","dispatch","DashboardReport","state","dashboardReport","classes","options","fetchChartData","value","push","process","env","PUBLIC_URL","dataType","criterions","userObj","fetchParams","event","sourceLanguage","targetLanguage","hasOwnProperty","_id","label","fetchNextParams","eventValue","handleOnClick","filter","handleSelectChange","handleLanguageChange","handleCardNavigation","handleClosePopUp","fetchFilterButtons","filterButton","backButton","dataSet","marginBottom","container","count","infoBtn","paper","iconStyle","visibility","titleText","data","angle","marginTop","top","Intl","NumberFormat","notation","format","fontFamily","fontSize","fill","left","right","bottom","length","map","entry","index","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { withStyles, Typography, MuiThemeProvider, Paper, Button } from \"@material-ui/core\";\r\nimport ChartStyles from \"../../styles/Dashboard\";\r\nimport { ResponsiveContainer, BarChart, Bar, Cell, XAxis, Label, LabelList, YAxis, Tooltip, } from 'recharts';\r\nimport APITransport from \"../../../redux/actions/apitransport/apitransport\";\r\nimport FetchLanguageDataSets from \"../../../redux/actions/api/Dashboard/languageDatasets\";\r\nimport { ArrowBack } from '@material-ui/icons';\r\nimport Header from '../../components/common/Header';\r\nimport Dataset from \"../../../configs/DatasetItems\";\r\nimport authenticate from '../../../configs/authenticate';\r\nimport Theme from \"../../theme/theme-default\";\r\nimport TitleBar from \"./TitleBar\";\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\nimport AppInfo from \"../../components/common/AppInfo\"\r\nvar colors = [\"188efc\", \"7a47a4\", \"b93e94\", \"1fc6a4\", \"f46154\", \"d088fd\", \"f3447d\", \"188efc\", \"f48734\", \"189ac9\", \"0e67bd\"]\r\n\r\n\r\nconst ChartRender = (props) => {\r\n\tconst [selectedOption, setSelectedOption] = useState(Dataset[0]);\r\n\tconst [title, setTitle] = useState(\"Number of parallel dataset per language with English\");\r\n\tconst [filterValue, setFilterValue] = useState(\"domains\");\r\n\tconst [popUp, setPopUp] = useState(authenticate() ? false : true);\r\n\tconst [selectedLanguage, setSelectedLanguage] = useState(\"\");\r\n\tconst [selectedLanguageName, setSelectedLanguageName] = useState(\"\");\r\n\tconst [page, setPage] = useState(0);\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst DashboardReport = useSelector((state) => state.dashboardReport);\r\n\tconst { classes } = props;\r\n\tconst options = Dataset;\r\n\tuseEffect(() => {\r\n\t\tfetchChartData(selectedOption.value, \"languagePairs\", [])\r\n\t\t\thistory.push(`${process.env.PUBLIC_URL}/dashboard`)\r\n\t}, []);\r\n\r\n\tconst fetchChartData = (dataType, value, criterions) => {\r\n\t\tconst userObj = new FetchLanguageDataSets(dataType, value, criterions);\r\n\t\tdispatch(APITransport(userObj));\r\n\r\n\t}\r\n\r\n\t// const customStyles = {\r\n\t// \toption: (provided, state) => ({\r\n\t// \t\t...provided,\r\n\t// \t\tborderColor: \"green\",\r\n\t// \t\tcolor: 'black',\r\n\t// \t\tpadding: 20,\r\n\t// \t\tbackground: state.isSelected && \"#c7c6c68a !important\",\r\n\t// \t\tcursor: \"pointer\",\r\n\t// \t\tfontFamily: \"Lato, sans-serif \",\r\n\r\n\t// \t}),\r\n\t// \tcontrol: (base, state) => ({\r\n\t// \t\t...base,\r\n\t// \t\t// This line disable the blue border\r\n\t// \t\tborderColor: \"#392C71\",\r\n\t// \t\tborder: \"1px solid rgba(57, 44, 113, 0.5)\",\r\n\t// \t\tboxShadow: state.isFocused ? 0 : 0,\r\n\t// \t\tfontFamily: \"Lato, sans-serif \",\r\n\t// \t\tcursor: \"pointer\"\r\n\t// \t})\r\n\t// }\r\n\r\n\tconst fetchParams = (event) => {\r\n\t\tvar sourceLanguage = \"\"\r\n\t\tlet targetLanguage = \"\"\r\n\t\tif (selectedOption.value === \"parallel-corpus\") {\r\n\t\t\tsourceLanguage = { \"type\": \"PARAMS\", \"value\": \"en\" };\r\n\t\t\ttargetLanguage = { \"type\": \"PARAMS\", \"value\": (selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id) }\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsourceLanguage = { \"type\": \"PARAMS\", \"value\": (selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id) };\r\n\t\t\ttargetLanguage = { \"type\": \"PARAMS\", \"value\": \"\" };\r\n\r\n\t\t}\r\n\t\tsetSelectedLanguage(selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id)\r\n\t\tsetSelectedLanguageName(selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label)\r\n\t\treturn ([{ \"type\": \"PARAMS\", \"sourceLanguage\": sourceLanguage, \"targetLanguage\": targetLanguage }])\r\n\t}\r\n\r\n\tconst fetchNextParams = (eventValue) => {\r\n\t\tvar sourceLanguage = \"\"\r\n\t\tlet targetLanguage = \"\"\r\n\t\tlet event = { \"type\": \"PARAMS\", \"value\": eventValue && eventValue.hasOwnProperty(\"_id\") && eventValue._id }\r\n\t\tif (selectedOption.value === \"parallel-corpus\") {\r\n\t\t\tsourceLanguage = { \"type\": \"PARAMS\", \"value\": \"en\" };\r\n\t\t\ttargetLanguage = { \"type\": \"PARAMS\", \"value\": selectedLanguage }\r\n\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsourceLanguage = { \"type\": \"PARAMS\", \"value\": selectedLanguage };\r\n\t\t\ttargetLanguage = { \"type\": \"PARAMS\", \"value\": \"\" };\r\n\r\n\t\t}\r\n\t\tsetSelectedLanguage(selectedLanguage ? selectedLanguage : event && event.hasOwnProperty(\"_id\") && event._id)\r\n\t\tsetSelectedLanguageName(selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label)\r\n\t\treturn ([{ \"type\": \"PARAMS\", \"sourceLanguage\": sourceLanguage, \"targetLanguage\": targetLanguage }, event])\r\n\t}\r\n\r\n\tconst handleOnClick = (value, event, filter) => {\r\n\r\n\t\tswitch (value) {\r\n\t\t\tcase 1:\r\n\t\t\t\t// fetchChartData(selectedOption.value, filter ? filter : filterValue, [{ \"type\": \"PARAMS\", \"sourceLanguage\": { \"type\": \"PARAMS\", \"value\": \"en\" }, \"targetLanguage\": { \"type\": \"PARAMS\", \"value\": selectedLanguage ? selectedLanguage : (event && event.hasOwnProperty(\"_id\")) ? event._id : \"\" } }])\r\n\r\n\t\t\t\tfetchChartData(selectedOption.value, filter ? filter : filterValue, fetchParams(event))\r\n\t\t\t\thandleSelectChange(selectedOption, event, filter, value)\r\n\t\t\t\tsetPage(value)\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tfetchChartData(selectedOption.value, filterValue === \"collectionMethod_collectionDescriptions\" ? \"domains\" : \"collectionMethod_collectionDescriptions\", fetchNextParams(event))\r\n\t\t\t\tsetPage(value)\r\n\t\t\t\tsetFilterValue('domains')\r\n\t\t\t\thandleSelectChange(selectedOption, event, filter, value)\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 0:\r\n\t\t\t\tfetchChartData(selectedOption.value, \"languagePairs\", [])\r\n\t\t\t\tsetPage(value)\r\n\t\t\t\tsetFilterValue('domains')\r\n\t\t\t\thandleSelectChange(selectedOption, \"\", \"\", value)\r\n\t\t\t\tsetSelectedLanguage(\"\")\r\n\t\t\t\tsetSelectedLanguageName(\"\")\r\n\r\n\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst handleLanguageChange = (value) => {\r\n\t\tsetFilterValue(value)\r\n\t\tsetTitle(`English-${selectedLanguageName}  ${selectedOption.value}- Grouped by ${(value === \"domains\") ? \"Domain\" : (value === \"source\") ? \"Source\" : value === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`)\r\n\t\thandleOnClick(1, \"\", value)\r\n\t}\r\n\tconst handleCardNavigation = () => {\r\n\r\n\t\thandleOnClick(page - 1)\r\n\t}\r\n\r\n\tconst handleClosePopUp = () =>{\r\n\t\tsetPopUp (false)\r\n\t}\r\n\r\n\tconst fetchFilterButtons = () => {\r\n\t\treturn (\r\n\t\t\t<div className={classes.filterButton}>\r\n\t\t\t\t<Button color={filterValue === \"domains\" ? \"primary\" : \"default\"}  size=\"small\" variant=\"outlined\" className={classes.backButton} onClick={() => handleLanguageChange(\"domains\")}>Domain</Button>\r\n\t\t\t\t{/* <Button  color={filterValue === \"source\" ? \"primary\":\"default\"} style={ filterValue === \"source\" ? {backgroundColor: \"#E8F5F8\"} : {} }size=\"medium\" variant=\"outlined\" className={classes.backButton} onClick={() => handleLanguageChange(\"source\")}>Source</Button> */}\r\n\t\t\t\t<Button color={filterValue === \"collectionMethod_collectionDescriptions\" ? \"primary\" : \"default\"}  size=\"small\" variant=\"outlined\" onClick={() => handleLanguageChange(\"collectionMethod_collectionDescriptions\")}>Collection Method</Button>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst handleSelectChange = (dataSet, event, filter, page) => {\r\n\t\tsetSelectedOption(dataSet)\r\n\t\tswitch (dataSet.value) {\r\n\t\t\tcase 'parallel-corpus':\r\n\t\t\t\tif (page === 0) {\r\n\t\t\t\t\tsetTitle(\"Number of parallel sentences per language with English\")\r\n\t\t\t\t\tselectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", [])\r\n\r\n\t\t\t\t} else if (page === 1) {\r\n\t\t\t\t\tsetTitle(`English-${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label}  ${selectedOption.label} - Grouped by ${(filter === \"domains\") ? \"Domain\" : (filter === \"source\") ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`)\r\n\r\n\t\t\t\t} else if (page === 2) {\r\n\t\t\t\t\tsetTitle(`English-${selectedLanguageName} ${selectedOption.label} `)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'monolingual-corpus':\r\n\t\t\t\tif (page === 0) {\r\n\t\t\t\t\tselectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", [])\r\n\t\t\t\t\tsetTitle('Number of sentences per language')\r\n\t\t\t\t} else if (page === 1) {\r\n\t\t\t\t\tsetTitle(`Number of sentences in ${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label} - Grouped by ${(filter === \"domains\") ? \"Domain\" : (filter === \"source\") ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`)\r\n\t\t\t\t} else if (page === 2) {\r\n\t\t\t\t\tsetTitle(`Number of sentences in ${selectedLanguageName} `)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'asr-corpus':\r\n\t\t\t\tif (page === 0) {\r\n\t\t\t\t\tselectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", [])\r\n\t\t\t\t\tsetTitle(\"Number of audio hours per language\")\r\n\t\t\t\t} else if (page === 1) {\r\n\t\t\t\t\tsetTitle(`Number of audio hours in ${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label} - Grouped by ${(filter === \"domains\") ? \"Domain\" : (filter === \"source\") ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`)\r\n\t\t\t\t} else if (page === 2) {\r\n\t\t\t\t\tsetTitle(`Number of audio hours in ${selectedLanguageName} `)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ocr-corpus':\r\n\r\n\t\t\t\tif (page === 0) {\r\n\t\t\t\t\tselectedOption.value !== dataSet.value && fetchChartData(dataSet.value, \"languagePairs\", [])\r\n\t\t\t\t\tsetTitle(\"Number of images per language\")\r\n\t\t\t\t} else if (page === 1) {\r\n\t\t\t\t\tsetTitle(`Number of images with ${selectedLanguageName ? selectedLanguageName : event && event.hasOwnProperty(\"label\") && event.label} text - Grouped by ${(filter === \"domains\") ? \"Domain\" : (filter === \"source\") ? \"Source\" : filter === \"collectionMethod_collectionDescriptions\" ? \"Collection Method\" : \"Domain\"}`)\r\n\t\t\t\t} else if (page === 2) {\r\n\t\t\t\t\tsetTitle(`Number of images with ${selectedLanguageName} text`)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tsetTitle(\"\")\r\n\t\t}\r\n\r\n\r\n\t}\r\n\treturn (\r\n\t\t<MuiThemeProvider theme={Theme}>\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<><Header style={{ marginBottom: \"10px\" }} /><br /><br /><br /> </>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t<TitleBar selectedOption={selectedOption}\r\n\t\t\t\t\t\t\thandleSelectChange={handleSelectChange}\r\n\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\tisDisabled={page !== 0 ? true : false}\r\n\t\t\t\t\t\t\tpage= {page}\r\n\t\t\t\t\t\t\tcount = {DashboardReport.count}>\r\n\r\n\t\t\t\t{page === 1 && fetchFilterButtons()}\r\n\t\t\t\t\r\n\t\t\t</ TitleBar>\r\n\t\t\t<Button onClick = {()=> setPopUp(true)} color= \"primary\" variant=\"contained\" className={classes.infoBtn}><InfoOutlinedIcon/></Button>\r\n\t\t\t{popUp && <AppInfo handleClose = {handleClosePopUp} open ={popUp}/>}\r\n\r\n\t\t\t\t<Paper elevation={3} className={classes.paper}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<div className={classes.iconStyle}>\r\n\t\t\t\t\t <><Button size=\"small\" color=\"primary\" className={classes.backButton} style={page === 0 ? {visibility:\"hidden\"}:{}} startIcon={<ArrowBack />} onClick={() => handleCardNavigation()}>Back</Button>\r\n\t\t\t\t\t\t\t</>\r\n\r\n\t\t\t\t\t\t\t<Typography className={classes.titleText} value=\"\" variant=\"h6\"> {title} </Typography>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className={classes.title}>\r\n\t\t\t\t\t\t<ResponsiveContainer width=\"95%\" height={550} >\r\n\t\t\t\t\t\t\t<BarChart width={900} height={350} data={DashboardReport.data} fontSize=\"14px\" fontFamily=\"Lato\" maxBarSize={100} >\r\n\r\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"label\"\r\n\t\t\t\t\t\t\t\t\ttextAnchor={\"end\"}\r\n\t\t\t\t\t\t\t\t\ttick={{ angle: -30, marginTop: \"8px\" }}\r\n\t\t\t\t\t\t\t\t\theight={130}\r\n\t\t\t\t\t\t\t\t\tinterval={0}\r\n\t\t\t\t\t\t\t\t\tposition=\"insideLeft\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</XAxis>\r\n\t\t\t\t\t\t\t\t<YAxis padding={{ top: 10 }} tickInterval={10} allowDecimals={false} type=\"number\" dx={0} tickFormatter={(value) => new Intl.NumberFormat('en', { notation: \"compact\" }).format(value)} />\r\n\r\n\r\n\t\t\t\t\t\t\t\t<Tooltip contentStyle={{fontFamily:\"Lato\", fontSize:\"14px\"}} formatter={(value) => new Intl.NumberFormat('en').format(value)} cursor={{ fill: 'none' }} />\r\n\t\t\t\t\t\t\t\t<Bar margin={{ top: 40, left: 20, right: 20, bottom: 20 }} dataKey=\"value\" cursor=\"pointer\" radius={[8, 8, 0, 0]} maxBarSize={65} onClick={(event) => { handleOnClick(page + 1, event) }}>\r\n\t\t\t\t\t\t\t\t\t<LabelList\r\n\t\t\t\t\t\t\t\t\t\tformatter={(value) => new Intl.NumberFormat('en').format(value)} cursor={{ fill: 'none' }}\r\n\t\t\t\t\t\t\t\t\t\tposition=\"top\"\r\n\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"black\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tDashboardReport.hasOwnProperty(\"data\") && DashboardReport.data.length > 0 && DashboardReport.data.map((entry, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst color = colors[index < 9 ? index : index % 10]\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Cell key={index} fill={`#${color}`} />;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Bar>\r\n\t\t\t\t\t\t\t</BarChart>\r\n\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</Paper>\r\n\r\n\t\t\t</div>\r\n\t\t</MuiThemeProvider>\r\n\t)\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default withStyles(ChartStyles(Theme))(ChartRender);\r\n"]},"metadata":{},"sourceType":"module"}