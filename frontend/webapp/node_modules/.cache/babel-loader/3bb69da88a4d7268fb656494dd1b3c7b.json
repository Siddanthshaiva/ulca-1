{"ast":null,"code":"import C from '../../../actions/constants';\nconst initialState = {\n  responseData: []\n};\n\nconst dateConversion = value => {\n  var myDate = new Date(value);\n  let result = myDate.toLocaleString('en-US', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n    hour12: true\n  });\n  return result;\n};\n\nconst getContributionList = payload => {\n  let responseData = [];\n  let refreshStatus = false;\n  payload.forEach(element => {\n    responseData.push({\n      submitRefNumber: element.serviceRequestNumber,\n      datasetName: element.datasetName,\n      submittedOn: dateConversion(element.submittedOn),\n      status: element.status === \"INPROGRESS\" ? \"In-Progress\" : element.status === \"NOTSTARTED\" ? \"Not Started\" : element.status === \"PUBLISHED\" ? \"Published\" : element.status === \"FAILED\" ? \"Failed\" : element.status.toLowerCase()[0].toUpperCase()\n    });\n\n    if (element.status === \"INPROGRESS\" || \"NOTSTARTED\") {\n      refreshStatus = true;\n    }\n  });\n  responseData = responseData.reverse();\n  return {\n    responseData,\n    refreshStatus\n  };\n}; ////[{\"submitRefNumber\":\"0005771\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"1622800607774\",\"status\":\"Published\"},{\"submitRefNumber\":\"0005770\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"1622800607774\",\"status\":\"Published\"},{\"submitRefNumber\":\"0005772\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"16228006077741\",\"status\":\"Published\"},{\"submitRefNumber\":\"0005770\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"1622800607774\",\"status\":\"Published\"}]\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case C.GET_CONTRIBUTION_LIST:\n      debugger;\n      return getContributionList(action.payload);\n\n    case C.CLEAR_USER_EVENT:\n      return { ...initialState\n      };\n\n    default:\n      return { ...state\n      };\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/src/redux/reducers/DataSet/DatasetView/myContribution.js"],"names":["C","initialState","responseData","dateConversion","value","myDate","Date","result","toLocaleString","day","month","year","hour","minute","second","hour12","getContributionList","payload","refreshStatus","forEach","element","push","submitRefNumber","serviceRequestNumber","datasetName","submittedOn","status","toLowerCase","toUpperCase","reverse","reducer","state","action","type","GET_CONTRIBUTION_LIST","CLEAR_USER_EVENT"],"mappings":"AAAA,OAAOA,CAAP,MAAc,4BAAd;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,YAAY,EAAE;AADG,CAArB;;AAIA,MAAMC,cAAc,GAAIC,KAAD,IAAU;AAE7B,MAAIC,MAAM,GAAG,IAAIC,IAAJ,CAASF,KAAT,CAAb;AACA,MAAIG,MAAM,GAAIF,MAAM,CAACG,cAAP,CAAsB,OAAtB,EAA+B;AAAEC,IAAAA,GAAG,EAAE,SAAP;AAAkBC,IAAAA,KAAK,EAAE,SAAzB;AAAoCC,IAAAA,IAAI,EAAE,SAA1C;AAAqDC,IAAAA,IAAI,EAAE,SAA3D;AAAsEC,IAAAA,MAAM,EAAE,SAA9E;AAAyFC,IAAAA,MAAM,EAAE,SAAjG;AAA4GC,IAAAA,MAAM,EAAE;AAApH,GAA/B,CAAd;AACA,SAAOR,MAAP;AACH,CALD;;AAOA,MAAMS,mBAAmB,GAAIC,OAAD,IAAa;AACrC,MAAIf,YAAY,GAAG,EAAnB;AACA,MAAIgB,aAAa,GAAG,KAApB;AACAD,EAAAA,OAAO,CAACE,OAAR,CAAgBC,OAAO,IAAI;AACvBlB,IAAAA,YAAY,CAACmB,IAAb,CACI;AACAC,MAAAA,eAAe,EAASF,OAAO,CAACG,oBADhC;AAEAC,MAAAA,WAAW,EAAQJ,OAAO,CAACI,WAF3B;AAGAC,MAAAA,WAAW,EAAGtB,cAAc,CAACiB,OAAO,CAACK,WAAT,CAH5B;AAIAC,MAAAA,MAAM,EAASN,OAAO,CAACM,MAAR,KAAmB,YAAnB,GAAkC,aAAlC,GAAkDN,OAAO,CAACM,MAAR,KAAmB,YAAnB,GAAkC,aAAlC,GAAkDN,OAAO,CAACM,MAAR,KAAmB,WAAnB,GAAgC,WAAhC,GAA8CN,OAAO,CAACM,MAAR,KAAmB,QAAnB,GAA6B,QAA7B,GAAyCN,OAAO,CAACM,MAAR,CAAeC,WAAf,EAAD,CAA+B,CAA/B,EAAkCC,WAAlC;AAJzM,KADJ;;AAQA,QAAGR,OAAO,CAACM,MAAR,KAAmB,YAAnB,IAAmC,YAAtC,EAAmD;AAC/CR,MAAAA,aAAa,GAAG,IAAhB;AACH;AACJ,GAZD;AAaAhB,EAAAA,YAAY,GAAGA,YAAY,CAAC2B,OAAb,EAAf;AACA,SAAO;AAAC3B,IAAAA,YAAD;AAAgBgB,IAAAA;AAAhB,GAAP;AACH,CAlBD,C,CAmBA;;;AACA,MAAMY,OAAO,GAAG,CAACC,KAAK,GAAG9B,YAAT,EAAuB+B,MAAvB,KAAkC;AAE9C,UAAQA,MAAM,CAACC,IAAf;AAEI,SAAKjC,CAAC,CAACkC,qBAAP;AACI;AACA,aAAOlB,mBAAmB,CAACgB,MAAM,CAACf,OAAR,CAA1B;;AACJ,SAAKjB,CAAC,CAACmC,gBAAP;AACI,aAAO,EACH,GAAGlC;AADA,OAAP;;AAGJ;AACI,aAAO,EACH,GAAG8B;AADA,OAAP;AAVR;AAcH,CAhBD;;AAkBA,eAAeD,OAAf","sourcesContent":["import C from '../../../actions/constants';\n\nconst initialState = {\n    responseData: []\n}\n\nconst dateConversion = (value) =>{\n    \n    var myDate = new Date(value);\n    let result = (myDate.toLocaleString('en-US', { day: '2-digit', month: '2-digit', year: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true }))\n    return result;\n}\n\nconst getContributionList = (payload) => {\n    let responseData = [];\n    let refreshStatus = false;\n    payload.forEach(element => {\n        responseData.push(\n            {\n            submitRefNumber       : element.serviceRequestNumber,\n            datasetName      : element.datasetName,\n            submittedOn : dateConversion(element.submittedOn),\n            status       : element.status === \"INPROGRESS\" ? \"In-Progress\" : element.status === \"NOTSTARTED\" ? \"Not Started\" : element.status === \"PUBLISHED\"? \"Published\" : element.status === \"FAILED\"? \"Failed\" : (element.status.toLowerCase())[0].toUpperCase()\n            }\n        )\n        if(element.status === \"INPROGRESS\" || \"NOTSTARTED\"){\n            refreshStatus = true\n        }\n    }); \n    responseData = responseData.reverse()\n    return {responseData , refreshStatus};\n}\n////[{\"submitRefNumber\":\"0005771\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"1622800607774\",\"status\":\"Published\"},{\"submitRefNumber\":\"0005770\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"1622800607774\",\"status\":\"Published\"},{\"submitRefNumber\":\"0005772\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"16228006077741\",\"status\":\"Published\"},{\"submitRefNumber\":\"0005770\",\"datasetName\":\"Tourism Set-1\",\"submittedOn\":\"1622800607774\",\"status\":\"Published\"}]\nconst reducer = (state = initialState, action) => {\n    \n    switch (action.type) {\n\n        case C.GET_CONTRIBUTION_LIST:\n            debugger\n            return getContributionList(action.payload);\n        case C.CLEAR_USER_EVENT:\n            return {\n                ...initialState\n            }\n        default:\n            return {\n                ...state\n            }\n    }\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}