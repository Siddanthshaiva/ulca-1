{"ast":null,"code":"/**\n * Login API\n */\nimport API from \"../../api\";\nimport C from \"../../constants\";\nimport CONFIGS from \"../../../../configs/configs\";\nimport ENDPOINTS from \"../../../../configs/apiendpoints\";\nimport md5 from 'md5';\nexport default class LoginAPI extends API {\n  constructor(fileDetails, timeout = 2000) {\n    super(\"POST\", timeout, false);\n    this.fileDetails = fileDetails;\n    this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.datasetSubmit}`;\n    this.userDetails = JSON.parse(localStorage.getItem('userInfo'));\n  }\n\n  apiEndPoint() {\n    return this.endpoint;\n  }\n\n  getBody() {\n    return this.fileDetails;\n  }\n\n  getHeaders() {\n    let urlSha = md5(JSON.stringify(this.getBody()));\n    let hash = md5(this.userDetails.privateKey + \"|\" + urlSha);\n    this.headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"key\": this.userDetails.publicKey,\n        \"sig\": hash,\n        \"userId\": JSON.parse(localStorage.getItem('userDetails')).userID\n      }\n    };\n    return this.headers;\n  }\n\n  getPayload() {\n    return this.credentials;\n  }\n\n}","map":{"version":3,"sources":["/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/src/redux/actions/api/UploadDataset/SubmitDataset.js"],"names":["API","C","CONFIGS","ENDPOINTS","md5","LoginAPI","constructor","fileDetails","timeout","endpoint","apiEndPointAuto","datasetSubmit","userDetails","JSON","parse","localStorage","getItem","apiEndPoint","getBody","getHeaders","urlSha","stringify","hash","privateKey","headers","publicKey","userID","getPayload","credentials"],"mappings":"AAAA;AACA;AACA;AACC,OAAOA,GAAP,MAAgB,WAAhB;AACA,OAAOC,CAAP,MAAc,iBAAd;AACA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,eAAe,MAAMC,QAAN,SAAuBL,GAAvB,CAA2B;AACxCM,EAAAA,WAAW,CAACC,WAAD,EAAcC,OAAO,GAAG,IAAxB,EAA8B;AACvC,UAAM,MAAN,EAAcA,OAAd,EAAuB,KAAvB;AACD,SAAKD,WAAL,GAAmBA,WAAnB;AACC,SAAKE,QAAL,GAAiB,GAAE,MAAMC,eAAN,EAAwB,GAAEP,SAAS,CAACQ,aAAc,EAArE;AACA,SAAKC,WAAL,GAAmBC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAnB;AACD;;AAGDC,EAAAA,WAAW,GAAG;AACZ,WAAO,KAAKR,QAAZ;AACD;;AAEDS,EAAAA,OAAO,GAAG;AACR,WAAO,KAAKX,WAAZ;AACD;;AAGDY,EAAAA,UAAU,GAAG;AACZ,QAAIC,MAAM,GAAGhB,GAAG,CAACS,IAAI,CAACQ,SAAL,CAAe,KAAKH,OAAL,EAAf,CAAD,CAAhB;AACA,QAAII,IAAI,GAAGlB,GAAG,CAAC,KAAKQ,WAAL,CAAiBW,UAAjB,GAA4B,GAA5B,GAAgCH,MAAjC,CAAd;AACA,SAAKI,OAAL,GAAe;AACbA,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,eAAO,KAAKZ,WAAL,CAAiBa,SAFjB;AAGP,eAASH,IAHF;AAIP,kBAAUT,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,EAAgDU;AAJnD;AADI,KAAf;AAQA,WAAO,KAAKF,OAAZ;AACD;;AAGAG,EAAAA,UAAU,GAAG;AACX,WAAO,KAAKC,WAAZ;AACD;;AAnCuC","sourcesContent":["/**\n * Login API\n */\n import API from \"../../api\";\n import C from \"../../constants\";\n import CONFIGS from \"../../../../configs/configs\";\n import ENDPOINTS from \"../../../../configs/apiendpoints\";\n import md5 from 'md5';\n\n export default class LoginAPI extends API {\n   constructor(fileDetails, timeout = 2000) {\n     super(\"POST\", timeout, false);\n    this.fileDetails = fileDetails;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.datasetSubmit}`;\n     this.userDetails = JSON.parse(localStorage.getItem('userInfo'))\n   }\n \n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {\n     return this.fileDetails;\n   }\n \n\n   getHeaders() {\n    let urlSha = md5(JSON.stringify(this.getBody()))\n    let hash = md5(this.userDetails.privateKey+\"|\"+urlSha)\n    this.headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"key\" :this.userDetails.publicKey,\n        \"sig\"  : hash,\n        \"userId\": JSON.parse(localStorage.getItem('userDetails')).userID\n      }\n    };\n    return this.headers;\n  }\n   \n \n   getPayload() {\n     return this.credentials;\n   }\n }\n "]},"metadata":{},"sourceType":"module"}