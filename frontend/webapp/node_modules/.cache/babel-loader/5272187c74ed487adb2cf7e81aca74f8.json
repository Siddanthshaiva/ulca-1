{"ast":null,"code":"var _jsxFileName = \"/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/src/ui/container/DataSet/DatasetSeatch/MySearches.jsx\",\n    _s = $RefreshSig$();\n\nimport { withStyles, Typography, MuiThemeProvider, createMuiTheme, Button } from \"@material-ui/core\";\nimport BreadCrum from '../../../components/common/Breadcrum';\nimport React, { useEffect } from \"react\";\nimport DataSet from \"../../../styles/Dataset\";\nimport APITransport from \"../../../../redux/actions/apitransport/apitransport\";\nimport MUIDataTable from \"mui-datatables\";\nimport MySearchReport from \"../../../../redux/actions/api/DataSet/DatasetSearch/MySearches\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Cached } from '@material-ui/icons';\nimport UrlConfig from '../../../../configs/internalurlmapping';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MySearches = props => {\n  _s();\n\n  const detailedReport = useSelector(state => state.mySearchReport);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    MySearchListApi();\n  }, []);\n\n  const MySearchListApi = () => {\n    const userObj = new MySearchReport();\n    dispatch(APITransport(userObj));\n  };\n\n  const processTableClickedNextOrPrevious = (page, sortOrder) => {\n    if (this.props.page_no < page) {\n      /**\n       * user wanted to load next set of records\n       */\n      this.props.fetchpageno();\n      this.makeAPICallJobsBulkSearch(this.state.offset + this.state.limit, this.state.limit, false, false, true);\n      this.setState({\n        currentPageIndex: page,\n        offset: this.state.offset + this.state.limit\n      });\n    }\n  };\n\n  const fetchHeaderButton = () => {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      size: \"medium\",\n      variant: \"outlined\",\n      className: classes.ButtonRefresh,\n      onClick: () => MySearchListApi(),\n      children: [/*#__PURE__*/_jsxDEV(Cached, {\n        className: classes.iconStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 149\n      }, this), \"Refresh\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 20\n    }, this);\n  };\n\n  const renderAction = rowData => {\n    const status = rowData[4].toLowerCase();\n    history.push(`${process.env.PUBLIC_URL}/search-and-download-rec/${status}/${rowData[0]}`);\n  };\n\n  const columns = [{\n    name: \"sr_no\",\n    label: \"SR No\",\n    options: {\n      filter: false,\n      sort: false,\n      display: \"excluded\"\n    }\n  }, {\n    name: \"search_criteria\",\n    label: \"Search Criteria\",\n    options: {\n      filter: false,\n      sort: true\n    }\n  }, {\n    name: \"searched_on\",\n    label: \"Searched On\",\n    options: {\n      filter: false,\n      sort: true\n    }\n  }, {\n    name: \"count\",\n    label: \"#Record\",\n    options: {\n      filter: false,\n      sort: true\n    }\n  }, {\n    name: \"status\",\n    label: \"Status\",\n    options: {\n      filter: false,\n      sort: false\n    }\n  }];\n  const options = {\n    textLabels: {\n      body: {\n        noMatch: \"No records\"\n      },\n      toolbar: {\n        search: \"Search\",\n        viewColumns: \"View Column\"\n      },\n      pagination: {\n        rowsPerPage: \"Rows per page\"\n      },\n      options: {\n        sortDirection: \"desc\"\n      }\n    },\n    customToolbar: fetchHeaderButton,\n    displaySelectToolbar: false,\n    fixedHeader: false,\n    filterType: false,\n    download: false,\n    print: false,\n    filter: false,\n    page: 2,\n    viewColumns: false,\n    selectableRows: \"none\",\n    onTableChange: (action, tableState) => {\n      switch (action) {\n        case \"changePage\":\n          this.processTableClickedNextOrPrevious(tableState.page, tableState.sortOrder);\n          break;\n\n        default:\n      }\n    },\n    onRowClick: (rowData, rowMeta) => rowData[3] && renderAction(rowData)\n  };\n  const {\n    classes\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.breadcrum,\n      children: /*#__PURE__*/_jsxDEV(BreadCrum, {\n        links: [UrlConfig.dataset],\n        activeLink: \"My Searches\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(MUIDataTable, {\n      title: `My Searches`,\n      data: detailedReport.responseData,\n      columns: columns,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 17\n  }, this);\n};\n\n_s(MySearches, \"KMHwRvqOiuigVDv6ORtXeJeiT8Q=\", false, function () {\n  return [useSelector, useDispatch, useHistory];\n});\n\n_c = MySearches;\nexport default withStyles(DataSet)(MySearches);\n\nvar _c;\n\n$RefreshReg$(_c, \"MySearches\");","map":{"version":3,"sources":["/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/src/ui/container/DataSet/DatasetSeatch/MySearches.jsx"],"names":["withStyles","Typography","MuiThemeProvider","createMuiTheme","Button","BreadCrum","React","useEffect","DataSet","APITransport","MUIDataTable","MySearchReport","useDispatch","useSelector","Cached","UrlConfig","useHistory","MySearches","props","detailedReport","state","mySearchReport","dispatch","history","MySearchListApi","userObj","processTableClickedNextOrPrevious","page","sortOrder","page_no","fetchpageno","makeAPICallJobsBulkSearch","offset","limit","setState","currentPageIndex","fetchHeaderButton","classes","ButtonRefresh","iconStyle","renderAction","rowData","status","toLowerCase","push","process","env","PUBLIC_URL","columns","name","label","options","filter","sort","display","textLabels","body","noMatch","toolbar","search","viewColumns","pagination","rowsPerPage","sortDirection","customToolbar","displaySelectToolbar","fixedHeader","filterType","download","print","selectableRows","onTableChange","action","tableState","onRowClick","rowMeta","breadcrum","dataset","responseData"],"mappings":"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","sourcesContent":["import { withStyles, Typography, MuiThemeProvider, createMuiTheme, Button } from \"@material-ui/core\";\nimport BreadCrum from '../../../components/common/Breadcrum';\nimport React, { useEffect} from \"react\";\nimport DataSet from \"../../../styles/Dataset\";\nimport APITransport from \"../../../../redux/actions/apitransport/apitransport\";\nimport MUIDataTable from \"mui-datatables\";\nimport MySearchReport from \"../../../../redux/actions/api/DataSet/DatasetSearch/MySearches\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {Cached} from '@material-ui/icons';\nimport UrlConfig from '../../../../configs/internalurlmapping';\nimport {  useHistory } from \"react-router-dom\";\n\nconst MySearches = (props) => {\n\n        const detailedReport            =       useSelector((state) => state.mySearchReport);\n        const dispatch                  = useDispatch();\n        const history                   = useHistory();\n        \n        useEffect(() => {\n                MySearchListApi()   \n        }, []);\n\n  \n        const  MySearchListApi  = () =>{\n                \n                const userObj         = new MySearchReport()\n                dispatch(APITransport(userObj));\n        }\n\n        const processTableClickedNextOrPrevious = (page, sortOrder) => {\n                if (this.props.page_no < page) {\n                  /**\n                   * user wanted to load next set of records\n                   */\n                  this.props.fetchpageno()\n                  this.makeAPICallJobsBulkSearch(\n                    this.state.offset + this.state.limit,\n                    this.state.limit,\n                    false,\n                    false,\n                    true\n                  );\n                  this.setState({\n                    currentPageIndex: page,\n                    offset: this.state.offset + this.state.limit,\n                  });\n                }\n              };\n            \n\n       \n\n        const fetchHeaderButton= () => {\n            return <Button color={\"primary\" } size=\"medium\" variant=\"outlined\" className={classes.ButtonRefresh}  onClick={() =>MySearchListApi() }><Cached className ={classes.iconStyle}/>Refresh</Button>\n    }\n\n    const renderAction = (rowData) =>{\n\n        const status = rowData[4].toLowerCase();\n        history.push(`${process.env.PUBLIC_URL}/search-and-download-rec/${status}/${rowData[0]}`)\n    }\n\n        \n        const columns = [\n                {\n                        name    : \"sr_no\",\n                        label   : \"SR No\",\n                        options : {\n                                filter  : false,\n                                sort    : false,\n                                display : \"excluded\"\n                                \n                        },\n                },\n                {\n                        name    : \"search_criteria\",\n                        label   : \"Search Criteria\",\n                        options : {\n                                filter  : false,\n                                sort    : true,\n                        },\n                },\n                {\n                        name    : \"searched_on\",\n                        label   : \"Searched On\",\n                        options : {\n                                filter  : false,\n                                sort    : true,\n                        },\n                },{\n                        name    : \"count\",\n                        label   : \"#Record\",\n                        options : {\n                                filter  : false,\n                                sort    : true,\n                                \n                  }  },\n                {\n                        name    : \"status\",\n                        label   : \"Status\",\n                        options : {\n                                filter  : false,\n                                sort    : false,\n                                \n                        },\n                }\n        \n        ];\n\n        const options = {\n                textLabels              :       {\n                        body            :       {\n                                noMatch: \"No records\"\n                        },\n                        toolbar         :       {\n                                search          : \"Search\",\n                                viewColumns     : \"View Column\",\n                        },\n                        pagination      :       { rowsPerPage     : \"Rows per page\"},\n                        options         :       { sortDirection   : \"desc\" },\n                },\n                customToolbar: fetchHeaderButton,\n                displaySelectToolbar    :       false,\n                fixedHeader             :       false,\n                filterType              :       false,\n                download                :       false,\n                print                   :       false,\n                filter                  :       false,\n                page: 2,\n                viewColumns     : false,\n                selectableRows          :       \"none\",\n                onTableChange: (action, tableState) => {\n                        switch (action) {\n                          case \"changePage\":\n                            this.processTableClickedNextOrPrevious(\n                              tableState.page,\n                              tableState.sortOrder\n                            );\n                            break;\n                          default:\n                        }\n                      },\n\n                onRowClick                 : (rowData, rowMeta) =>rowData[3] &&  renderAction(rowData)\n        };\n\n        const { classes }               = props;\n        return (\n                <div >\n                        <div className  = {classes.breadcrum}>\n                                <BreadCrum links = {[UrlConfig.dataset]} activeLink = \"My Searches\" />\n                        </div>\n\n                                <MUIDataTable\n                                        title   =       {`My Searches`}\n                                        data    =       {detailedReport.responseData}\n                                        columns =               {columns}\n                                        options ={options}\n                                />\n\n                        \n                </div>\n        );\n};\n\nexport default withStyles(DataSet)(MySearches);\n"]},"metadata":{},"sourceType":"module"}